# Вопросы по реализации ТЗ

## Архитектурные вопросы

### 1. Текущий проект
- У нас сейчас Node.js/Express + Next.js проект
- ТЗ требует Django + React
- **Вопрос**: Переделываем существующий проект или создаем новую структуру рядом?

### 2. Приоритеты реализации
- **Вопрос**: С чего начинаем?
  - Вариант A: Backend (Django) → API → Frontend
  - Вариант B: Модели → Логика → API → Frontend
  - Вариант C: Ваш вариант

### 3. Переменные окружения
- ТЗ требует все переменные изменяемыми
- **Вопрос**: Какие значения по умолчанию использовать?
  - Максимум партнеров на уровень (по умолчанию 3)?
  - Проценты бонусов (по умолчанию 50/50)?
  - Другие параметры?

### 4. Миграция данных
- **Вопрос**: Нужно ли сохранить существующих пользователей из текущей БД?
- Или начинаем с чистой БД?

### 5. Frontend
- ТЗ требует React с Vite
- Сейчас у нас Next.js
- **Вопрос**: Создаем новый React проект или адаптируем Next.js?

## Технические вопросы

### 6. База данных
- ТЗ требует PostgreSQL (production) и SQLite (development)
- **Вопрос**: Используем текущую PostgreSQL на Railway или создаем новую?

### 7. Telegram Bot
- Сейчас у нас Node.js бот
- ТЗ требует Python бот
- **Вопрос**: Переделываем существующего бота или создаем нового?

### 8. Аутентификация
- ТЗ упоминает Token и Session Authentication
- **Вопрос**: Какой метод предпочтительнее для API?

### 9. Визуализация структуры
- ТЗ требует интерактивную визуализацию MLM структуры
- **Вопрос**: Какую библиотеку использовать?
  - D3.js
  - React Flow
  - Vis.js
  - Другая?

## Бизнес-логика

### 10. Размещение пользователей
- Алгоритм BFS для поиска места
- **Вопрос**: Нужны ли дополнительные правила размещения?
  - Балансировка уровней?
  - Приоритеты позиций?

### 11. Бонусы
- Green Bonus - пригласившему
- Yellow Bonus - владельцу позиции
- **Вопрос**: Нужны ли дополнительные типы бонусов?
  - Бонусы за уровни?
  - Бонусы за объем?

### 12. Тарифы
- **Вопрос**: Сколько тарифов создавать изначально?
- Какие названия и суммы?

## Развертывание

### 13. Railway
- ТЗ требует Docker
- **Вопрос**: Используем текущие сервисы или создаем новые?

### 14. Домены
- ТЗ: equilibrium.up.railway.app
- Сейчас: iva.up.railway.app
- **Вопрос**: Меняем домены или используем текущие?

## Предложения по реализации

### Фаза 1: Backend Core (1-2 дня)
1. Структура Django проекта
2. Модели данных
3. Базовые миграции
4. Healthcheck endpoint

### Фаза 2: MLM Логика (2-3 дня)
1. Алгоритм размещения
2. Система бонусов
3. Сервисы размещения

### Фаза 3: API (1-2 дня)
1. REST API endpoints
2. Аутентификация
3. Сериализаторы

### Фаза 4: Админ-панель (1-2 дня)
1. Django Admin
2. Кастомные views
3. Визуализация структуры

### Фаза 5: Frontend (2-3 дня)
1. React приложение
2. Интеграция с API
3. Визуализация

### Фаза 6: Telegram Bot (1 день)
1. Python бот
2. Интеграция с API
3. Команды

### Фаза 7: Развертывание (1 день)
1. Docker конфигурация
2. Railway настройка
3. Тестирование

## Начало работы

Предлагаю начать с **Фазы 1: Backend Core** - создание структуры Django проекта и моделей.

**Готов начать?** Или есть изменения/дополнения к плану?

